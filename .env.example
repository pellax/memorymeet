# ================================================================================================
# üîß VARIABLES DE ENTORNO - M2PRD-001 SAAS V1.4 (DESARROLLO LOCAL)
# ================================================================================================
# Copia este archivo a .env y rellena con tus valores reales
# IMPORTANTE: No subas el archivo .env real a git (est√° en .gitignore)

# ===== üîí SEGURIDAD (RNF2.0) =====
# JWT para autenticaci√≥n de usuarios
JWT_SECRET_KEY=dev-jwt-secret-change-in-production-to-secure-random-key

# Clave secreta para encriptaci√≥n general
SECRET_KEY=dev-secret-key-change-in-production

# ===== üí∞ STRIPE (RF7.0 - FACTURACI√ìN) =====
# Claves de Stripe para gesti√≥n de suscripciones
STRIPE_SECRET_KEY=sk_test_your_stripe_test_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_test_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# ===== ü§ñ SERVICIOS DE IA (RF3.0, RF4.0) =====
# OpenAI para extracci√≥n de requisitos avanzada
OPENAI_API_KEY=sk-your-openai-api-key-here

# Deepgram para transcripci√≥n de audio (RF2.0)
DEEPGRAM_API_KEY=your-deepgram-api-key-here

# ===== üíæ BASE DE DATOS POSTGRESQL (ACID CR√çTICO) =====
# Configuraci√≥n de PostgreSQL para datos cr√≠ticos
POSTGRES_USER=m2prd_user
POSTGRES_PASSWORD=m2prd_secure_password_123
POSTGRES_DB=m2prd_main
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Base de datos adicional para n8n
N8N_POSTGRES_DB=n8n_workflows

# URL completa de la base de datos
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ===== ‚ö° REDIS (CACHE - RF8.0) =====
# Configuraci√≥n de Redis para cache de consumo
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ===== üìä N8N ORQUESTACI√ìN (RF1.0-RF5.0) =====
# Credenciales para acceso a n8n
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=n8n_dev_password_123

# ===== üìà MONITOREO (RNF4.0) =====
# Grafana admin password
GRAFANA_ADMIN_PASSWORD=grafana_admin_123

# ===== üåê URLS DE SERVICIOS =====
# URLs internas para comunicaci√≥n entre servicios
BACKEND_URL=http://backend:8000
IA_MODULE_URL=http://ia_module:8003
N8N_WEBHOOK_URL=http://n8n:5678
FRONTEND_URL=http://localhost:3000

# URLs externas (para desarrollo local)
EXTERNAL_BACKEND_URL=http://localhost:8000
EXTERNAL_N8N_URL=http://localhost:5678

# ===== ‚öôÔ∏è CONFIGURACI√ìN DE APLICACI√ìN =====
# Entorno de ejecuci√≥n
NODE_ENV=development
PYTHON_ENV=development
LOG_LEVEL=DEBUG

# Performance settings (RNF1.0)
MAX_PROCESSING_TIME_SECONDS=300
MAX_AUDIO_DURATION_MINUTES=120
MAX_RETRY_ATTEMPTS=3

# ===== üìß NOTIFICACIONES (OPCIONAL) =====
# Email configuration para notificaciones
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# ===== üîç DESARROLLO Y DEBUG =====
# Configuraciones espec√≠ficas para desarrollo
DEBUG=true
RELOAD=true
HOT_RELOAD=true

# Puertos para desarrollo local (no cambiar sin actualizar docker-compose.yml)
BACKEND_PORT=8000
IA_MODULE_PORT=8003
N8N_PORT=5678
FRONTEND_PORT=3000
POSTGRES_PORT=5432
REDIS_PORT=6379
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# ===== üß™ TESTING =====
# Configuraciones para tests
TEST_DATABASE_URL=postgresql://test_user:test_pass@postgres:5432/test_db
TEST_REDIS_URL=redis://redis:6379/15

# ===== üöÄ DEPLOYMENT (PRODUCCI√ìN) =====
# Variables que se usar√°n en producci√≥n (valores por defecto para desarrollo)
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5678"]
ALLOWED_HOSTS=["localhost", "127.0.0.1", "backend"]
CSRF_COOKIE_SECURE=false
SESSION_COOKIE_SECURE=false

# ===== üìä M√âTRICAS Y ANALYTICS =====
# Configuraci√≥n para telemetr√≠a y m√©tricas
ENABLE_METRICS=true
METRICS_PORT=8080
SENTRY_DSN=  # Opcional: para monitoreo de errores en producci√≥n