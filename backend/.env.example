# ================================================================================================
# üîê ENVIRONMENT VARIABLES - Ejemplo de Configuraci√≥n
# ================================================================================================
# Copiar este archivo a .env y personalizar los valores

# ================================================================================================
# üèóÔ∏è GENERAL APPLICATION
# ================================================================================================
APP_NAME="Consumption Service - Gatekeeper"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # Options: development, staging, production
DEBUG=true

# ================================================================================================
# üåê NETWORK CONFIGURATION
# ================================================================================================
HOST="0.0.0.0"
PORT=8002

# CORS - Allowed origins (comma-separated)
CORS_ORIGINS="http://localhost:3000,http://localhost:3001,http://localhost:8000"

# ================================================================================================
# üíæ DATABASE CONFIGURATION
# ================================================================================================
DATABASE_URL="postgresql://user:password@localhost:5432/memorymeet_dev"
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ================================================================================================
# ‚ö° REDIS CONFIGURATION (Cache)
# ================================================================================================
REDIS_URL="redis://localhost:6379/0"
REDIS_POOL_SIZE=10
REDIS_TTL_SECONDS=300

# ================================================================================================
# üîó N8N WEBHOOK CONFIGURATION
# ================================================================================================
# ‚ö†Ô∏è IMPORTANTE: Configurar cuando tengas tu workflow de n8n listo
# Dejar vac√≠o para desarrollo local con mock server
N8N_WEBHOOK_URL=""  # Example: "https://n8n.yourcompany.com/webhook/process-meeting"
N8N_API_KEY=""  # API key for n8n authentication (if required)
N8N_TIMEOUT_SECONDS=30
N8N_MAX_RETRIES=3
N8N_RETRY_DELAY_SECONDS=1.0

# ================================================================================================
# ü§ñ IA/NLP SERVICE CONFIGURATION
# ================================================================================================
NLP_SERVICE_URL="http://localhost:8003"
NLP_TIMEOUT_SECONDS=60

# ================================================================================================
# üîê SECURITY CONFIGURATION
# ================================================================================================

# JWT Configuration
JWT_SECRET_KEY="dev-secret-key-change-in-production"  # ‚ö†Ô∏è CHANGE IN PRODUCTION
JWT_ALGORITHM="HS256"
JWT_EXPIRATION_MINUTES=60

# n8n Callback Security
# ‚ö†Ô∏è CR√çTICO EN PRODUCCI√ìN: API Key que n8n debe enviar en callbacks
N8N_CALLBACK_API_KEY=""  # Example: "your-secure-api-key-here"

# IP Whitelist for callbacks (comma-separated)
ALLOWED_CALLBACK_IPS="127.0.0.1,::1"

# ================================================================================================
# üìä LOGGING CONFIGURATION
# ================================================================================================
LOG_LEVEL="INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="json"  # Options: json, text

# ================================================================================================
# üîÑ CIRCUIT BREAKER CONFIGURATION
# ================================================================================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_SECONDS=60

# ================================================================================================
# üí∞ BUSINESS CONFIGURATION (SaaS)
# ================================================================================================
DEFAULT_FREE_HOURS=2.0
MAX_PROCESSING_HOURS_PER_REQUEST=8.0

# Stripe Configuration (Future Payment Integration)
STRIPE_SECRET_KEY=""  # Example: "sk_test_..."
STRIPE_WEBHOOK_SECRET=""  # Example: "whsec_..."

# ================================================================================================
# üìà MONITORING CONFIGURATION
# ================================================================================================
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry Error Tracking
SENTRY_DSN=""  # Example: "https://xxx@sentry.io/xxx"

# ================================================================================================
# üß™ TESTING CONFIGURATION
# ================================================================================================
TESTING=false
TEST_DATABASE_URL="sqlite:///./test.db"

# ================================================================================================
# üìù NOTAS DE CONFIGURACI√ìN
# ================================================================================================
#
# DESARROLLO LOCAL:
# - Mantener N8N_WEBHOOK_URL vac√≠o para usar mock server
# - DEBUG=true para ver logs detallados
# - DATABASE_URL apuntando a PostgreSQL local o Docker
#
# STAGING/PRODUCTION:
# - N8N_WEBHOOK_URL debe apuntar al webhook real de n8n
# - N8N_CALLBACK_API_KEY debe ser una clave segura
# - JWT_SECRET_KEY debe ser √∫nica y segura
# - DEBUG=false
# - SENTRY_DSN configurado para error tracking
# - DATABASE_URL apuntando a base de datos de producci√≥n
#
# SEGURIDAD:
# - NUNCA commitear .env al repositorio
# - Usar gestores de secretos en producci√≥n (AWS Secrets Manager, etc.)
# - Rotar JWT_SECRET_KEY regularmente
# - Mantener N8N_CALLBACK_API_KEY seguro
#
# ================================================================================================
